# 云服务器：个人网站初体验

折腾了一天，终于算是跌跌撞撞的入了门hhhh

## 1. 登录云服务器
起初想到这个是打算往云服务器里copy文件，然后找到了这种方式。

运行 - mstsc，在计算机中填入对应的云服务器公网ip，为了数据共享，还要在本地资源中进行设置

![mstsc](https://upload-images.jianshu.io/upload_images/13085799-b8f7f96474772e40.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

![远程桌面连接](https://upload-images.jianshu.io/upload_images/13085799-e86670de65af607a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

![本地资源详细信息](https://upload-images.jianshu.io/upload_images/13085799-11431f1add22fc6f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

![连接](https://upload-images.jianshu.io/upload_images/13085799-0aae73ffd0381b61.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

tip：在弹出填入凭证时需要注意，凭证是云服务器的用户名和对应的账户密码（比如：Administrator和123456）

成功登陆后可以看到自己的云服务器界面，这里我选择的是Windows，容易上手（虽然很早就知道服务器就是一台不关机的电脑，但是看到那个开机画面还是兴奋= =！）。

![云服务器](https://upload-images.jianshu.io/upload_images/13085799-724223ccff4810c2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

## 2. 配置运行环境
这一步就不再过多的赘述了- -无非就是该装软件的装该配置环境变量的配置。。。

# 3. 部署web项目
在eclipse中完成项目的编写后，右键项目 - 导出为war包。

![导出](https://upload-images.jianshu.io/upload_images/13085799-d6e20e8b8b28866f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

![war文件](https://upload-images.jianshu.io/upload_images/13085799-4459a545c9213052.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

选择下一步之后选择位置后，我们就得到了一个war文件

![image.png](https://upload-images.jianshu.io/upload_images/13085799-3ccf28f17007eb4f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

tip:需要注意的，使用了数据库的项目也需要导出对应的sql文件

![image.png](https://upload-images.jianshu.io/upload_images/13085799-9fd6ab28d0ab4eff.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

之后将得到的两个文件（war，sql）放到云服务器上。

- war文件放到tomcat安装目录下的webapps里
![image.png](https://upload-images.jianshu.io/upload_images/13085799-0b4b4b7a52284b1d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

- sql文件则导入对应的数据库完成数据库的还原。

- 启动apache-tomcat-9.0.7\bin\startup.exe文件后，在浏览器中输入对应的文件目录`localhost:8080//xxxx//welcome.jsp`即可看到如下运行结果
![在服务器运行页面](https://upload-images.jianshu.io/upload_images/13085799-31ae54c93c281891.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

此时在不关闭tomcat的情况下，我们可以在任意电脑访问到此页面，只需要将localhost替换为云服务器的IP就可以了。

## 4. 更改配置使得可以通过ip地址直接访问

很容易发现以上步骤虽然可以使页面正常发布与被访问，路径却过于冗长，于是我们通过修改配置文件直接使用ip地址访问页面。
### 4.1. 修改sever.xml文件
在`apache-tomcat-9.0.7\conf`目录下找到sever.xml文件，用记事本打开，将端口号修改为80
![修改端口号](https://upload-images.jianshu.io/upload_images/13085799-5c32fe2066684dbd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
######在<host>标签中添加如下代码
~~~xml
<Context path="" docBase="C:\apache-tomcat-9.0.7\webapps\......" debug="0" reloadable="true" /> 
~~~
其中docBase指的是项目目录

![添加代码](https://upload-images.jianshu.io/upload_images/13085799-9a0fc8639deb8103.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

### 4.2. 修改web.xml文件
在`apache-tomcat-9.0.7\webapps`目录下找到自己的项目目录，进入`WEB-INF`目录找到web.xml文件，用记事本打开并添加如下代码

~~~xml
<welcome-file>Welcome.jsp</welcome-file>
~~~

中间的页面为要访问的页面

![添加代码](https://upload-images.jianshu.io/upload_images/13085799-b358434fe1a9f461.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

保存之后重启tomcat后就可以使用IP访问页面啦

![使用IP访问页面](https://upload-images.jianshu.io/upload_images/13085799-4e31dd806c1bbb95.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)






